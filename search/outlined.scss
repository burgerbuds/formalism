// Core
@import './formalism/core/fields/common';

// Theme
@import './formalism/core/themes/outlined';

// Variables
$f-search-size: 3em !default;
$f-search-background-color: $f-core-background-color !default;
$f-search-label-color: $black !default;

$f-search-border-color: $f-core-border-color !default;
$f-search-border-width: $f-core-border-width !default;

$f-search-label-color-hover: $f-core-background-color !default;
$f-search-label-color-focus: $f-search-label-color-hover !default;

$f-search-background-color-hover: $f-core-highlight-color !default;
$f-search-background-color-focus: $f-search-background-color-hover !default;

// Base
.f-search {
    $b: #{&};
    @include f-base;
    @include f-inner;
    @include f-field;
    @include f-label($b);
    @include f-label-text($b);
    @include f-indicator($b);
    @include f-message;


    @include f-theme-outlined-field {
        box-sizing: border-box;
        padding-right: calc($f-core-padding-horizontal + $f-search-icon-size);
    }

    @include f-theme-outlined-label {
        top: 0;
        bottom: 0;
        left: $f-core-padding-horizontal;
    }

    @include f-theme-outlined-label-text;
    // @include f-theme-outlined-indicator;

    #{$b}__button {
        position: absolute;
        z-index: 2;
        top: $f-core-border-width;
        bottom: $f-core-border-width;
        right: $f-core-border-width;
        appearance: none;
        color: $f-search-label-color;
        border: 0;
        border-left: $f-search-border-width solid $f-search-border-color;
        border-radius: 0 $f-outlined-border-radius $f-outlined-border-radius 0;
        background-color: $f-search-background-color;
        width: $f-search-size;
        transition: transition(background-color);

        &:hover,
        &:focus {
            top: 0;
            bottom: 0;
            right: 0;
        }

        &:hover {
            color: $f-search-label-color-hover;
            border-left-color: $f-search-background-color-hover;
            background-color: $f-search-background-color-hover;
        }

        &:focus {
            color: $f-search-label-color-focus;
            border-left-color: $f-search-background-color-focus;
            background-color: $f-search-background-color-focus;
        }
    }
}