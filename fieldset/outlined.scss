// Variables, mixins, and functions
@import './formalism/core/fields/fieldset';

// Padding
$f-fieldset-padding-left: 1em !default;
$f-fieldset-padding-right: $f-fieldset-padding-left !default;
$f-fieldset-padding-top: 1.5em !default;
$f-fieldset-padding-bottom: $f-fieldset-padding-top !default;

// Borders
$f-fieldset-border-width: $f-core-border-width !default;
$f-fieldset-border-color: $f-core-border-color !default;

// Theme
.f-fieldset--outlined {
    $b: ".f-fieldset";

    #{$b}__indicator--optional {
        line-height: 1 / ($f-core-indicator-optional-size / $f-fieldset-label-font-size);
    }

    #{$b}__indicator--required {
        line-height: 1 / ($f-core-indicator-required-size / $f-fieldset-label-font-size);
    }

    #{$b}__label {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        line-height: 1;
        top: 0;
        left: $f-fieldset-padding-left;
        transform: translateY(-50%);
    }

    #{$b}__label-text {
        &:before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: -0.35em;
            right: -0.35em;
            z-index: -1;
            background-color: $f-core-background-color;
        }
    }

    #{$b}__inner {
        border: $f-fieldset-border-width solid $f-fieldset-border-color;
        border-radius: $f-outlined-border-radius;
        padding-top: $f-fieldset-padding-top;
        padding-bottom: $f-fieldset-padding-bottom;
        padding-left: $f-fieldset-padding-left;
        padding-right: $f-fieldset-padding-right;
    }

    // Error > Border colour
    &#{$f-core-error-selector} #{$b}__inner {
        border-color: $f-core-border-color-error;
        box-shadow: inset 0 0 0 calc(#{$f-core-border-width-error} - #{$f-core-border-width}) $f-core-border-color-error;
    }

    // Error > Label text colours
    &#{$f-core-error-selector} #{$b}__label #{$b}__label-text {
        color: $f-core-error-color;
    }

}